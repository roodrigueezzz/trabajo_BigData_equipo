[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Grupo somo los megores",
    "section": "",
    "text": "Hola, somos Josep, Ferran y Rubén.\nEsta web sirve para presentar el trabajo en equipo para la asignatura “Programación y manejo de datos en la era Del Big Data”, optativa de GECO en la Facultad de Economía de la Universitat de València.\nLa web de la asignatura está aquí y los trabajos de mis compañeros de curso puedes verlos aquí.\nNuesro trabajo lleva por título : Infraestructuras ferroviarias en Europa: El problema de España. El objetivo es comprobar de una manera visual las conclusiones sacadas por Germà Bel en el libro: España, capital Paris, sobre los problemas, desusos e ineficiencias de la red ferroviaria española.\nEl trabajo puede verse aquí."
  },
  {
    "objectID": "las_slides_estan.html",
    "href": "las_slides_estan.html",
    "title": "Slides para la presentación",
    "section": "",
    "text": "Las transparencias para presentar el trabajo en grupo están aquí."
  },
  {
    "objectID": "my_slides_BigData.html#base",
    "href": "my_slides_BigData.html#base",
    "title": "El problema ferroviario de España",
    "section": "Base",
    "text": "Base"
  },
  {
    "objectID": "my_slides_BigData.html#ª-evolucion",
    "href": "my_slides_BigData.html#ª-evolucion",
    "title": "El problema ferroviario de España",
    "section": "1ª evolucion",
    "text": "1ª evolucion"
  },
  {
    "objectID": "my_slides_BigData.html#fase-final",
    "href": "my_slides_BigData.html#fase-final",
    "title": "El problema ferroviario de España",
    "section": "Fase final",
    "text": "Fase final"
  },
  {
    "objectID": "my_slides_BigData.html#base-1",
    "href": "my_slides_BigData.html#base-1",
    "title": "El problema ferroviario de España",
    "section": "Base",
    "text": "Base"
  },
  {
    "objectID": "my_slides_BigData.html#primera-evolución",
    "href": "my_slides_BigData.html#primera-evolución",
    "title": "El problema ferroviario de España",
    "section": "Primera evolución",
    "text": "Primera evolución"
  },
  {
    "objectID": "my_slides_BigData.html#fase-final-1",
    "href": "my_slides_BigData.html#fase-final-1",
    "title": "El problema ferroviario de España",
    "section": "Fase final",
    "text": "Fase final\n\nObservamos el mismo problema de diversidad, podemos afrimar que algunos paises cada vez reportan menos pasajeros por kilómetro de via y a la inversa, como es el caso de España (ascendente) o el caso de Serbio o Dinamarca (descendente)."
  },
  {
    "objectID": "my_slides_BigData.html#primer-gráfico",
    "href": "my_slides_BigData.html#primer-gráfico",
    "title": "El problema ferroviario de España",
    "section": "Primer gráfico",
    "text": "Primer gráfico"
  },
  {
    "objectID": "my_slides_BigData.html#segundo-gráfico-1",
    "href": "my_slides_BigData.html#segundo-gráfico-1",
    "title": "El problema ferroviario de España",
    "section": "Segundo gráfico",
    "text": "Segundo gráfico\n\n Se observa que la mercancía transportada en España mediante el ferrocarril es más más baja que en Europa llegando a ser superado por Suecia. Esto viene determinado por la preferencia en españa por el transporte en camión, que es un medio de transporte más flexible y que permite el transporte “puerta a puerta”. Además este bajo uso del ferrocarril, también viene consicionado por el ancho de vía español (igual que el inglés) que difiere del del resto de Europa, lo que impide un tránsito fluido una vez se quiere cruzar la frontera."
  },
  {
    "objectID": "my_slides_BigData.html#análisis-de-los-tipos-de-vía",
    "href": "my_slides_BigData.html#análisis-de-los-tipos-de-vía",
    "title": "El problema ferroviario de España",
    "section": "Análisis de los tipos de vía",
    "text": "Análisis de los tipos de vía\nAnalizaremos las estadísticas que confieren a los diferentes tipos de vías clasificados por su velocidad, con la finalidad de ver qué países son aquellos que cuentan con mayor kilometraje de vía de cada tipo.\nEn este caso las categorías son 3, vías de baja velocidad, vías de media velocidad y vías de alta velocidad. Una vez obtenidos los datos, los hemos arreglado y dispuesto para obtener los gráficos que necesitamos para hacer más fácil nuestro análisis."
  },
  {
    "objectID": "my_slides_BigData.html#primer-gráfico-1",
    "href": "my_slides_BigData.html#primer-gráfico-1",
    "title": "El problema ferroviario de España",
    "section": "Primer gráfico",
    "text": "Primer gráfico"
  },
  {
    "objectID": "my_slides_BigData.html#superficie",
    "href": "my_slides_BigData.html#superficie",
    "title": "El problema ferroviario de España",
    "section": "Superficie",
    "text": "Superficie\n\n#Todo y que podríamos detenernos a observar las evoluciones y km de vía, es un ejercicio absurdo, dado que la simple grandaria de un país puede explicar la existencia de más kilometraje. Por tanto, intentaremos analizar las cuatro variables usando como unidad de medida kilómetros de via por kilómetro cuadrado del país. \n\n# Obtenemos los datos de superfície del banco mundial\nlibrary(WDI)  #install.packages('WDI')\n\nkm_superf <- WDI(indicator = \"AG.SRF.TOTL.K2\", start = 2020, end = 2020, country = c(\"AT\",\"BE\", \"BG\", \"HR\", \"CY\", \"CZ\", \"DK\", \"EE\", \"FI\", \"FR\", \"DE\", \"GR\", \"HU\", \"IE\", \"IT\", \"LV\", \"LT\", \"LU\", \"MT\", \"NL\", \"PL\", \"PT\", \"RO\", \"SK\", \"SI\", \"ES\", \"SE\", \"GB\"))\n\nkm_superf <- km_superf %>%\n  select(country, AG.SRF.TOTL.K2) %>%\n  rename(Km_2 = AG.SRF.TOTL.K2, Paises = \"country\")\n\ndatatable(km_superf, options = list(pageLength = 5))"
  },
  {
    "objectID": "my_slides_BigData.html#segundo-gráfico-2",
    "href": "my_slides_BigData.html#segundo-gráfico-2",
    "title": "El problema ferroviario de España",
    "section": "Segundo gráfico",
    "text": "Segundo gráfico\nEste gráfico nos muestra el porcentaje de kilómetros totales de vías sobre superficie del territorio. También observamos un mapa que resume estas estadísticas de una forma más ilustrativa."
  },
  {
    "objectID": "my_slides_BigData.html#mapa-de-europa",
    "href": "my_slides_BigData.html#mapa-de-europa",
    "title": "El problema ferroviario de España",
    "section": "Mapa de Europa",
    "text": "Mapa de Europa\nTambién hemos decidido hacer un mapa para demostrar nuestras skills"
  },
  {
    "objectID": "my_slides_BigData.html#vías-de-baja-velocidad",
    "href": "my_slides_BigData.html#vías-de-baja-velocidad",
    "title": "El problema ferroviario de España",
    "section": "Vías de baja velocidad",
    "text": "Vías de baja velocidad"
  },
  {
    "objectID": "my_slides_BigData.html#vías-de-media-velocidad",
    "href": "my_slides_BigData.html#vías-de-media-velocidad",
    "title": "El problema ferroviario de España",
    "section": "Vías de media velocidad",
    "text": "Vías de media velocidad"
  },
  {
    "objectID": "my_slides_BigData.html#vías-de-alta-velocidad",
    "href": "my_slides_BigData.html#vías-de-alta-velocidad",
    "title": "El problema ferroviario de España",
    "section": "Vías de alta velocidad",
    "text": "Vías de alta velocidad"
  },
  {
    "objectID": "my_slides_BigData.html#cocnlusiones",
    "href": "my_slides_BigData.html#cocnlusiones",
    "title": "El problema ferroviario de España",
    "section": "Cocnlusiones",
    "text": "Cocnlusiones\nComo podemos observar en los gráficos de graf_media_doble y graf_alta_doble comparado con Grafico_España podemos observar claramente como España, pese a ser el país europeo con más vías de alta velocidad respecto al total de km de Europa, los pasajeros siguen sin ser muy elevados. De hecho, es notablemente mayor la afluencia en baja velocidad, e incluso en media también lo es.\nAsí, vemos claramente un desuso de la infraestructura de alta velocidad, que a pesar de ser la más extensa es la menos utilizada. El motivo no se adhiere a toda la red, dado que este recae especialmente sobre algunos trayectos que unen la capital con algunas provincias (como por ejemplo Castilla y León, hasta llegar a A Coruña), que se hicieron por motivaciones políticas y no por unos estudios que concluyeran que esos tramos iban a ser rentables.\nEl hecho de construir tantas vías de alta velocidad ha provocado ha sido un desvío de capitales hacía esta causa sin justificación alguna, dado el infra uso de la gran parte de las vías construidas, y que no han permitido mejorar los otros servicios de media y baja velocidad, que cuentan con mayor afluencia de pasajeros."
  },
  {
    "objectID": "my_trabajo_BigData.html",
    "href": "my_trabajo_BigData.html",
    "title": "El problema ferroviario de España",
    "section": "",
    "text": "Todos hemos viajado alguna vez en tren. Bien sea en un Cercanías o en uno de los prestigiosos y rápidos AVES que componen nuestra flota de trenes nacional. Pero, ¿alguna vez te has planteado si la infraestructura de trenes es rentable? ¿Si no se está malgastando el presupuesto público para crear vías infrautilizadas para favorecer el transporte de ciertas ciudades? O, en todo caso, ¿qué diferencia nuestra red de la de nuestros vecinos que la hace tan ineficiente y cara? Bueno, pues hay ciertas personas que sí lo han hecho.\nEl año pasado para la asignatura de Política Económica II se nos instó a leer un libro de forma voluntaria, llamado España, capital París. ¿Por qué España construye tantas infraestructuras que no se usan? Una respuesta económica a un problema político. En este libro, en el cuál hemos basado y obtenido la idea para este trabajo, se realiza un análisis temporal y transversal de la evolución y tanto como de la construcción y diseño de las infraestructuras españolas, así como de las políticas las cuales configuraban estas. Es decir, se analiza desde un punto de vista económico como los diferentes gobernantes, desde reyes hasta los políticos más actuales, han llevado a cabo los planes para construir y como se han gestionado estas, desde la investigación de financiación hasta las implicaciones que han tenido.\nLo que pretende el autor es hacer una crítica sobre la ineficiencia observada al modelo de infraestructuras español, donde, especialmente los últimos años, se ha visto una política orientada a cumplir otros objetivos que no tienen que ver con los de eficiencia y aumento de la productividad del sistema. Mencionamos los años más próximos, que podríamos iniciar a mediados del siglo pasado, dado que a pesar de que sí se comprendía y poseía información sobre aquellas rutas con mayor tráfico comercial, no se podía acceder a la cantidad de datos actuales para poder calcular los aumentos de productividad que generan la construcción de nuevas infraestructuras.\nAsí pues, la información que aboca esta obra ayuda a iluminar y omprender los motivos que han comportado el diseño y construcción de una estructura de redes, tanto aéreas como terrestres, orientada a cumplir objetivos extraeconómicos y que más bien son políticos. Además, también se relacionan conceptos del pasado que ayudan a unir las piezas del puzle para poder comprender la dirección de estas políticas, así como una comparación con el ámbito europeo, especialmente con aquellos países que comparten rasgos demográficos y geográficos semblantes con nuestro país para hacernos saber que sí, las cosas se podrían haber hecho de otra forma.\nPor tanto, lo que los autores de este trabajo, Ferran, Rubén y Josep, pretendemos hacer es analizar y sintetizar estos resultados a partir de una base de datos europea, sobre la cual obtendremos, modificaremos y compararemos estos datos mediante diferentes instrumentos como gráficos y mapas para dejar ver algunas de las principales ideas de las que se habla en este ensayo.\nEn definitiva, combinaremos las ideas de este libro con el poder de las herramientas de la programación en RStudio que hemos aprendido y desarrollado al largo del curso en la asignatura de Programación y manejo de datos en la era del Big Data, con la finalidad de ver si somos capaces de poner en práctica todo lo aprendido y que nuestro profesor nos apruebe (por favor). Así pues, vayamos a ello.\n\n\nPara descargar y manipular los datos hemos optado por la siguiente lista de paquetes, la mayoría usados en las clases de este curso:\n\nCódigo\nlibrary(tidyverse) #install.packages(\"tidyverse\")\nlibrary(sf) #install.packages(\"sf\")\nlibrary(DT) #install.packages(\"DT\")\nlibrary(countrycode) #install.packages(\"countrycode\")\nlibrary(ggThemeAssist) #install.packages(\"ggThemeAssist\")\nlibrary(patchwork) #install.packages(\"patchwork\")\nlibrary(plotly) #-install.packages(\"plotly\")\nlibrary(knitr) #install.packages(\"plotly\")\nlibrary(tibble) #install.packages(\"tibble\")\nlibrary(ggthemes) #install.packages(\"ggthemes)\nlibrary(patchwork) #install.packages(\"patchwork\")\nlibrary(ggrepel) #install.packages(\"ggrepel\")\nlibrary(ggspatial) #install.packages(\"ggspatial\")\nlibrary(rnaturalearth) #install.packages(\"rnaturalearth\")\nlibrary(rnaturalearthdata) #install.packages(\"rnaturalearthdata\")\nlibrary(pjpv2020.01) #install.packages(\"pjpv2020.01\")\nlibrary(gganimate) #install.packages(\"gganimate\")\nlibrary(gifski) #install.packages(\"gifski\")\nlibrary(gt) #install.packages(\"gt\")\nlibrary(kableExtra) #install.packages(\"kableExtra\")\nlibrary(leaflet) #install.packages(\"leaflet\")\nlibrary(leafem) #install.packages(\"leafem\")\nlibrary(tmap) #install.packages(\"tmap\")\nlibrary(leaflet) #install.packages(\"leaflet\")\nlibrary(vembedr) #devtools::install_github(\"ijlyttle/vembedr\")\nlibrary(lubridate) #install.packages(\"lubridate\")\nlibrary(WDI)  #install.packages('WDI')\n\n\nHemos decidido utilizar datos de la web EUROSTAT.\nLos datos se pueden cargar gracias al paquete de eurostat, que se puede instalar de la siguiente manera:\n\nCódigo# install.packages(\"eurostat\")\nlibrary(eurostat)\n\n\nVamos a usar los siguientes datasets.\nrail_pa_speed <- Página web\nrail_if_line_sp <- Página web\nrail_go_total <- Página web\nrail_if_line_na<- Página web\nrail_go_typeall<- Página web\nLos datastets contienen observaciones sobre la mayoría de paises de europa sobre los kilómetros de vias de trenes, los pasajeros, las mercancías."
  },
  {
    "objectID": "my_trabajo_BigData.html#pasajeros",
    "href": "my_trabajo_BigData.html#pasajeros",
    "title": "El problema ferroviario de España",
    "section": "Pasajeros",
    "text": "Pasajeros\nComenzamos cargando los datos “rail_pa_speed” con el paquete Eurostat, en este dataframe encontramos los números de pasajeros de los diferentes países de Europa dividido en los diferentes tipos de vías que hay en la actualidad, trenes de baja velocidad, media y alta.\n\nCódigopasaj_via <- get_eurostat(id = \"rail_pa_speed\")\n\n\nEn un principio, pasamos los nombres de los países de la tabla, que estaban en código iso2c, al nombre del país.\npasaj_via$geo = countrycode(pasaj_via$geo, \"iso2c\", \"country.name\")\nTambién, ponemos la siguiente función:\nOptions(scipen = 999)\nNos evitará problemas de notación científica después.\n\nCódigopasaj_via$geo = countrycode(pasaj_via$geo, \"iso2c\", \"country.name\")\n\noptions(scipen = 999)\n\n\nA continuación, limpiamos los datos\n\nCódigopasaj_via <- pasaj_via %>%\n  mutate(time = as.character(time)) %>%\n  mutate(Unidad_medidad = \n           case_when(unit == \"MIO_PKM\" ~ \"Pasajero x KM\",\n                     unit == \"PAS\" ~ \"Pasajeros\" \n                     )) %>%\n  mutate(Tipo_de_tren = \n           case_when(vehicle == \"TRN_CV\" ~ \"Tren Baja Velocidad\",\n                     vehicle == \"TRN_HSPD\" ~ \"Tren Alta Velocidad\", \n                     vehicle == \"TRN_THSPD\" ~ \"Tren Media Velocidad\",\n                     vehicle == \"TOTAL\" ~ \"Total\"\n                     ))\n\n  \npasaj_via <- pasaj_via %>%\n   mutate (Año = time) %>% \n   mutate(Valores_Tren = as.integer(round(values))) %>%\n   arrange(geo) %>%\n   filter(Valores_Tren > 1) %>%\n   select(\"Unidad_medidad\", \"Tipo_de_tren\", \"geo\", \"Año\", \"Valores_Tren\") \n \n #Pasamos la columna \"Año\" como dato tipo \"date\"\n \npasaj_via$Año <- as.Date(pasaj_via$Año) \n \n #Convertimos la fecha en año\n \npasaj_via$Año <- year(pasaj_via$Año)\n \n #Añadimos algunos datos a mano, ya que no nos los proporciona eurostat\n \npasaj_via1 <- pasaj_via %>% add_row(Unidad_medidad = \"Pasajeros\", Tipo_de_tren = \"Tren Alta Velocidad\", geo = \"Spain\", Año = 2018, Valores_Tren = 21333)\n \npasaj_via1 <- pasaj_via1 %>% add_row(Unidad_medidad = \"Pasajeros\", Tipo_de_tren = \"Tren Alta Velocidad\", geo = \"Spain\", Año = 2017, Valores_Tren = 20558)\n \npasaj_via1 <- pasaj_via1 %>% add_row(Unidad_medidad = \"Pasajeros\", Tipo_de_tren = \"Tren Alta Velocidad\", geo = \"Spain\", Año = 2016, Valores_Tren = 20353)\n \npasaj_via1 <- pasaj_via1 %>% add_row(Unidad_medidad = \"Pasajeros\", Tipo_de_tren = \"Tren Alta Velocidad\", geo = \"Spain\", Año = 2015, Valores_Tren = 19428)\n\n#Para acabar quitamos los NA\n\npasaj_via1 <- pasaj_via1 %>%\n  filter(!is.na(geo))\n\n\nCon los datos ya limpios y listos para usarlos, lo guardamos en la carperta pruebas por si sufre alguna modificación durante la realización del trabajo\n\nCódigo#Guardamos los datos para tenerlos intactos ante cualquier modificacion\n \nruta_via <- here::here(\"datos\", \"pasaj_via1.rds\")\nrio::export(pasaj_via1, ruta_via)\n\n# Si necesitamos cargar los datos al global environment:\n# ruta_via <- here::here(\"datos\", \"pasaj_via1.rds\")\n# pasaj_via1 <-rio::import(ruta_via)\n\n\nAntes de adentrarnos en el análisis de los datos, vamos a ver como son y en que se diferencian los distintos tipos de trenes que hay.\n\n\nLos trenes de baja velocidad son aquellos que se caracterizan por tener una velocidad máxima relativamente baja en comparación con otros tipos de trenes, esto se debe a que están diseñados para realizar trayectos a corta o media distancia y para transportar principalmente a pasajeros.\nLos trenes de baja velocidad suelen utilizarse en áreas urbanas y suburbanas, y pueden ser una opción de transporte público eficiente y sostenible en estos entornos.\n\n\n\n\n\n\nLos trenes de media velocidad son aquellos que se caracterizan por tener una velocidad máxima intermedia en comparación con otros tipos de y están diseñados para realizar trayectos a media y larga distancia y para transportar principalmente a pasajeros.\nLos trenes de media velocidad ofrecen una serie de ventajas, como una mayor velocidad que los trenes de baja velocidad y una mayor capacidad de carga que los trenes de alta velocidad. Además, pueden ser una opción de transporte más sostenible y menos contaminante que otros medios de transporte, como aviones o coches.\n\n\n\n\n\n\nLos trenes de alta velocidad son aquellos que se caracterizan por tener una velocidad máxima relativamente alta en comparación con otros tipos de trenes, como los trenes de baja velocidad o los trenes de carga. Estos trenes están diseñados para realizar trayectos a larga distancia y para transportar principalmente a pasajeros.\nLos trenes de alta velocidad suelen tener una velocidad máxima de más de 250 km/h y pueden ser utilizados tanto en áreas urbanas como rurales. Y en algunos casos, los trenes de alta velocidad también pueden ser utilizados para el transporte de mercancías a larga distancia.\n\n\n\n\nPara comenzar con los gráficos y el análisis, vamos a prepararnos distintos dataframes que nos facilitará la tarea de graficar, dividiendo la unidades de medida.\n\nCódigo#Como la tabla nos ofrece los pasajeros totales y el numero de pasajeros por km de via lo separamos\n \nTren_Pasaj <- pasaj_via1 %>%\n  filter(Unidad_medidad == \"Pasajeros\")\n\nTren_Mxp <- pasaj_via1 %>%\n  filter(Unidad_medidad == \"Pasajero x KM\")\n\n#Filtramos por totales\n\nTren_Pasaj <- Tren_Pasaj %>%\n  filter(Tipo_de_tren == \"Total\")\n\nTren_Mxp <- Tren_Mxp %>%\n  filter(Tipo_de_tren == \"Total\")\n\n\nEl primer grafico que hacemos trata de presentar de forma visual la evolución de numero de pasajeros en los diferentes países europeos.\n\nCódigoGrafico_1a <- ggplot(Tren_Pasaj) +\n  aes(x = Año, y = Valores_Tren, colour = geo) +\n  geom_step(size = 0.5) +\n  scale_color_hue(direction = 1) +\n  labs(\n    y = \"Pasajeros (en miles)\",\n    title = \"Evolución de pasajeros de tren en los diferentes paises de Europa\"\n  ) +\n  ggthemes::theme_base()\n\nGrafico_1a\n\n\n\n\n\n\n\nVemos como destacan países como Alemania y Francia pero no se logra observar todo ese cúmulo de líneas en la parte inferior. Por ello hacemos un facet_wrap y vemos los países de forma individual.\n\nCódigoGrafico_1b <- ggplot(Tren_Pasaj) +\n  aes(x = Año, y = Valores_Tren) +\n  geom_step(size = 0.5, colour = \"#389CEF\") +\n  labs(\n    y = \"Pasajeros (en miles)\",\n    title = \"Evolución de pasajeros de tren en los diferentes paises Europeos\"\n  ) +\n  ggthemes::theme_base() +\n  facet_wrap(vars(geo))\n\nGrafico_1b\n\n\n\n\n\n\n\nEn este también observamos problemas, ya que por culpa de la escala no se puede apreciar la tendencia de los diferentes países en los últimos años, por lo que aplicamos escala libre al Eje Y\n\nCódigoGrafico_1c <- Tren_Pasaj %>%\n  filter(Año >= 2007L & Año <= 2019L) %>%\n  ggplot() +\n  aes(x = Año, y = Valores_Tren, colour = Tipo_de_tren) +\n  geom_step(size = 0.5) +\n  scale_color_manual(values = c(Total = \"#34A2F2\")) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  facet_wrap(vars(geo), scales = \"free_y\") + theme(axis.text = element_text(size = 8)) +labs(title = \"Evolución de los pasajeros de tren en los diferentes paises Europeos\",\n    x = NULL, y = \"Pasajeros (en miles)\")\n\nGrafico_1c\n\n\n\n\n\n\n\nAquí ya se puede observar de forma mas precisa las tendencias de los diferentes países y los valores que rondan.\nExiste mucha diversidad en los diferentes países de Europa, ya sea por su tamaño o por el uso que se le da al tren como medio de transporte. Hay países con claras tendencias como son el caso de Suiza (ascendente) o Eslovenia (descendente), aun que cabe destacar que la mayoría son ascendentes."
  },
  {
    "objectID": "my_trabajo_BigData.html#kilometros-por-pasajero",
    "href": "my_trabajo_BigData.html#kilometros-por-pasajero",
    "title": "El problema ferroviario de España",
    "section": "Kilometros por pasajero",
    "text": "Kilometros por pasajero\nPodemos replicar dicho análisis para los kilómetros de vía por pasajero de los diferentes paises, ya que el dataset nos proporciona la informacion.\nRealizamos un gráfico general\n\nCódigoGrafico_2a <- ggplot(Tren_Mxp) +\n  aes(x = Año, y = Valores_Tren, colour = geo) +\n  geom_step(size = 0.5) +\n  scale_color_hue(direction = 1) +\n  labs(\n    y = \"Pasajeros por KM\",\n    title = \"Evolución de pasajeros por KM de vía en los diferentes paises de Europa\"\n  ) +\n  ggthemes::theme_base()\n\nGrafico_2a\n\n\n\n\n\n\n\nNos surge el mismo problema, vemos paises que destacan, pero la aglomeración de datos se situa en la parte baja del gráfico, así que separamos los paises de manera individual.\n\nCódigo\nGrafico_2b <- ggplot(Tren_Mxp) +\n  aes(x = Año, y = Valores_Tren) +\n  geom_step(size = 0.5, colour = \"#7CABFF\") +\n  labs(\n    y = \"Pasajeros por KM\",\n    title = \"Evolución de pasajeros por KM de vía en los diferentes paises de Europa\"\n  ) +\n  ggthemes::theme_base() +\n  facet_wrap(vars(geo))\n\nGrafico_2b\n\n\n\n\n\n\n\nY por último, ajustamos la escala del Eje Y\n\nCódigo\nGrafico_2C <- Tren_Mxp %>%\n  filter(Año >= 2013L & Año <= 2019L) %>%\n  ggplot() +\n  aes(x = Año, y = Valores_Tren, colour = Tipo_de_tren) +\n  geom_step(size = 0.5) +\n  scale_color_manual(values = c(Total = \"#34A2F2\")) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  facet_wrap(vars(geo), scales = \"free_y\") + theme(axis.text = element_text(size = 8)) +labs(title = \"Evolución de los pasajeros por KM de vía en los diferentes paises Europeos\",\n    x = NULL, y = \"Pasajeros por KM\")\n\nGrafico_2C\n\n\n\n\n\n\n\nObservamos el mismo problema de diversidad, podemos afrimar que algunos paises cada vez reportan menos pasajeros por kilómetro de via y a la inversa, como es el caso de España (ascendente) o el caso de Serbio o Dinamarca (descendente).\nPara verlo de forma mas clara vamos a dividir los gráficos en los tipos de tren que hay para intentar sacar mas conclusiones. Para ello debemos volver a filtrar, esta vez por tipo de tren.\n\nCódigoTren_Alta_Pasaj <- pasaj_via1 %>%\n  filter(Tipo_de_tren == \"Tren Alta Velocidad\") %>%\n  filter(Unidad_medidad == \"Pasajeros\")\n\nTren_Media_Pasaj <- pasaj_via1 %>%\n  filter(Tipo_de_tren == \"Tren Media Velocidad\") %>%\n  filter(Unidad_medidad == \"Pasajeros\")\n\nTren_Baja_Pasaj <- pasaj_via1 %>%\n  filter(Tipo_de_tren == \"Tren Baja Velocidad\") %>%\n  filter(Unidad_medidad == \"Pasajeros\")\n\n\nEmpezando por el de alta velocidad, los países que destacan son Francia, España y Turquía\nCabe destacar, que Alemania debería estar entre las tres que mas pasajeros transporta pero por desgracia, los datos no están disponibles.\n\nCódigo\nGrafico_3 <- Tren_Alta_Pasaj %>%\n  filter(Año >= 2015L & Año <= 2019L) %>%\n  ggplot() +\n  aes(x = Año, y = Valores_Tren, colour = Tipo_de_tren) +\n  geom_step(size = 0.5) +\n  scale_color_manual(\n    values = c(`Tren Alta Velocidad` = \"#34A2F2\")\n  ) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  facet_wrap(vars(geo), scales = \"free_y\") + theme(axis.text = element_text(size = 12)) +labs(title = \"Evolución de los pasajeros del tren de alta velocidad en los paises seleccionados\",\n   x = NULL, y = \"Pasajeros (en miles)\") + theme(plot.title = element_text(size = 16))\n\nGrafico_3\n\n\n\n\n\n\n\nLos trenes de alta velocidad franceses son una opción de transporte muy popular en Francia debido a su alta velocidad y comodidad. Las compañías ofrecen descuentos y promociones especiales en algunos casos, como en trayectos fuera de horas punta o para pasajeros con discapacidad.\nTambién la red de vías de alta velocidad turcas se está expandiendo rápida y actualmente se encuentra en pleno proceso de ampliación. En el futuro, se espera que las vías de alta velocidad turcas se conviertan en una opción de transporte aún más popular y conveniente para los pasajeros.\nY el caso de España lo veremos más adelante ya que es el tema principal.\nComo conlsuion de esta parte se puede sacar que en los paises donde mas pasajeros en trenes de alta velocidad se transportan, están en tendencia positiva, cosa que puede significicar que esté cogiendo importancia con los años\nEn el caso de trenes de media velocidad ha estado mas complicado obtener datos que nos permita sacar conclusiones.\n\nCódigo\nGrafico_4 <- Tren_Media_Pasaj %>%\n  filter(Año >= 2008L & Año <= 2019L) %>%\n  ggplot() +\n  aes(x = Año, y = Valores_Tren, colour = Tipo_de_tren) +\n  geom_step(size = 0.5) +\n  scale_color_manual(\n    values = c(`Tren Media Velocidad` = \"#34A2F2\")\n  ) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  facet_wrap(vars(geo), scales = \"free_y\")+ theme(axis.text = element_text(size = 12)) + labs(title = \"Evolución de los pasajeros del tren de media velocidad en los paises seleccionados\",\n    x = NULL, y = \"Pasajeros (en miles)\") + theme(plot.title = element_text(size = 16))\n\nGrafico_4\n\n\n\n\n\n\n\nSe observa como Finlandia y Noruega, países del norte de Europa son los que tenemos datos mas firmes y se ve como la tendencia es positiva, pero nos hace pensar que no es un medio muy utilizado.\n\n\nMostramos estos dos mapas sacados de Wikipedia y se observa como en el caso de Finlandia, mapa de la parte izquierda, gran parte de las vías son de baja velocidad y el caso de Noruega, mapa derecho, no casi existen tramos de largas distancias.\nDe Suecia no disponemos de datos relevantes y España mas tarde será protagonista.\nPor ultimo los trenes de baja velocidad.\n\nCódigoGrafico_5 <- Tren_Baja_Pasaj %>%\n  filter(Año >= 2015L & Año <= 2019L) %>%\n  ggplot() +\n  aes(x = Año, y = Valores_Tren, colour = Tipo_de_tren) +\n  geom_step(size = 0.5) +\n  scale_color_manual(\n    values = c(`Tren Baja Velocidad` = \"#34A2F2\")\n  ) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  facet_wrap(vars(geo), scales = \"free_y\") + theme(axis.text = element_text(size = 8)) + labs(title = \"Evolución de los pasajeros del tren de baja velocidad en los paises seleccionados\",\n    x = NULL, y = \"Pasajeros (en miles)\") + theme(plot.title = element_text(size = 16))\n\nGrafico_5\n\n\n\n\n\n\n\nSe observa como la mayoría de los países son los que poseen menor territorio, es normal debido a que al no poseer de grandes distancias, no es necesario construir trenes de alta velocidad para pasajeros, como es el caso de los países del Norte de Europa, o países muy pequeños como Albania o Montenegro.\nPara acabar con los pasajeros, vamos a observar particularmente a España, sin entrar en detalles de eficiencia.\n\nCódigoPasajeros_España <- pasaj_via1 %>% filter(geo == \"Spain\") %>% filter(Unidad_medidad == \"Pasajeros\")\n\nGrafico_España <- Pasajeros_España %>%\n  filter(Año >= 2007L & Año <= 2019L) %>%\n  ggplot() +\n  aes(x = Año, y = Valores_Tren, colour = geo) +\n  geom_step(size = 0.5) +\n  scale_color_manual(values = c(Spain = \"#34A2F2\")) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  facet_wrap(vars(Tipo_de_tren), scales = \"free_y\") + theme(axis.text = element_text(size = 10)) + labs(title = \"Evolución de los pasajeros por tipo de tren en España\",x = NULL, y = \"Pasajeros (en miles)\") \n\nGrafico_España\n\n\n\n\n\n\n\nObservamos que el uso va en el orden, baja, media y alta. Y aunque no dispongamos de datos completos, se observa como en el periodo de 2013, los trenes de baja velocidad pegan una caída bestial y los de media, comienzan a subir.\nEs posible que el aumento del número de pasajeros en los trenes de media velocidad en España en torno a 2013 se deba a una serie de factores, entre ellos:\n\nMayor oferta de trenes de media velocidad: En 2013, se pusieron en servicio varias líneas de tren de alta velocidad en España, lo que aumentó la oferta de servicios de media velocidad y hizo que fuera más fácil para los pasajeros acceder a estos trenes.\nPrecios más asequibles: Al aumentar la oferta de trenes de media velocidad, también se produjo una mayor competencia entre las diferentes empresas de ferrocarriles, lo que puede haber llevado a precios más asequibles para los pasajeros.\nMayor conciencia ambiental: En los últimos años, ha habido un mayor interés en opciones de transporte sostenibles y menos contaminantes, lo que puede haber llevado a un aumento del uso de trenes de media velocidad.\nCambios en el panorama económico: Es posible que el aumento del número de pasajeros en los trenes de media velocidad en España en 2013 también se deba a cambios en el panorama económico del país, como un aumento del turismo o un crecimiento de la economía en general.\n\nEs importante tener en cuenta que estos son solo algunos posibles factores que pueden haber contribuido al aumento del número de pasajeros en los trenes de media velocidad en España en 2013. Es posible que haya habido otros factores también.\nLos trenes de alta velocidad no han parado de crecer, situándose por encima de los 21 millones de pasajeros transportados al año, pero, ¿le estamos sacando al rentabilidad que se le podría dar?, vamos a compararlo con las mercancías."
  },
  {
    "objectID": "my_trabajo_BigData.html#mercancias",
    "href": "my_trabajo_BigData.html#mercancias",
    "title": "El problema ferroviario de España",
    "section": "Mercancias",
    "text": "Mercancias\n\nCódigo\n#obtenemos los datos\n\nmy_table <- \"rail_if_line_na\"      \n\n   \ndf <- get_eurostat(my_table, time_format = 'raw', keepFlags = TRUE) \ndf_names <- names(df)\ndf <- label_eurostat(df, code = df_names, fix_duplicated = TRUE)\n\n\n\nCódigo\nrail_2 <- df %>%\n  select (geo, time, values, tra_meas, tra_infr) %>% \n  filter (geo %in% c(\"Spain\",\"France\",\"Italy\",\"Sweden\",\"Germany (until 1990 former territory of the FRG)\")) %>% \n  filter (time >=1995) %>% \n  filter (tra_infr == \"Total\") %>% \n  filter (tra_meas %in% c(\"Freight only\", \"Passengers and freight\", \"Passengers only\")) %>%\n  mutate(geo = \n           case_when(geo == \"Spain\" ~ \"Spain\",\n                     geo == \"France\" ~ \"France\", \n                     geo == \"Italy\" ~ \"Italy\",\n                     geo == \"Sweden\" ~ \"Sweden\",\n                     geo == \"Germany (until 1990 former territory of the FRG)\" ~ \"Germany\"\n                     \n           ))\n\n\nrail_2$time <- as.numeric(rail_2$time)\n\n\nGrafico_ferran_1 <- ggplot(rail_2) +\n  aes(x = time, y = values, colour = tra_meas)  + \n  geom_point()+\n  labs(\n    x = \"Años\",\n    y = \"Km de vías (en miles)\",\n    title = \"Comparación de la evolución de los km de vías por el tipo de uso\",\n    subtitle = \"Pueden ser de pasajeros,\n    mixtas o exclusivamente de carga\"\n  ) +\n  facet_wrap(vars(geo))+labs(colour = \"Categoria de transporte\") +\n  ggthemes::theme_base() \n\n\n\nGrafico_ferran_1\n\n\n\n\n\n\n\n\nCódigomy_table_2 <- \"rail_go_typeall\"     #Goods transported   by rail\n\nlabel_eurostat_tables(my_table_2)     \n#> [1] \"Goods transported by type of transport (2004-2016)\"\ndf_3 <- get_eurostat(my_table_2, time_format = 'raw', keepFlags = TRUE)\ndf_names <- names(df_3)\ndf_3 <- label_eurostat(df_3, code = df_names, fix_duplicated = TRUE)\n\npaises_3 <- df_3 %>% \n  select (geo, time, values, unit, tra_cov) %>%\n  filter (geo %in% c(\"Spain\",\"France\",\"Italy\",\"Sweden\",\"Germany (until 1990 former territory of the FRG)\")) %>% \n  filter (time >=1995) %>% \n  filter (unit == \"Million tonne-kilometre (TKM)\") %>% \n  filter (tra_cov == \"Total transport\") %>%\n  mutate(geo = \n           case_when(geo == \"Spain\" ~ \"Spain\",\n                     geo == \"France\" ~ \"France\", \n                     geo == \"Italy\" ~ \"Italy\",\n                     geo == \"Sweden\" ~ \"Sweden\",\n                     geo == \"Germany (until 1990 former territory of the FRG)\" ~ \"Germany\"\n                     \n           ))\n  \n\npaises_3$time <- as.numeric(paises_3$time)\n\np1 <-ggplot(paises_3) +\n  aes(x = time, y = values, colour = geo) +\n  geom_point(shape = \"circle\", size = 3) +\n  scale_color_hue(direction = 1) +\n  labs(\n    x = \"Años\",\n    y = \"Millones de toneladas por km de vía\",\n    title = \"Evolución del uso del tren para el transporte de mercancías\"\n  ) +\n  ggthemes::theme_base()\n\n\np1\n\n\n\n\n\n\n\n\nCódigo\nmy_table_4 <- \"road_go_ta_tott\"       \n\nlabel_eurostat_tables(my_table_4)     \n#> [1] \"Summary of annual road freight transport by type of operation and type of transport (1 000 t, Mio Tkm, Mio Veh-km)\"\ndf_5 <- get_eurostat(my_table_4, time_format = 'raw', keepFlags = TRUE)\ndf_names <- names(df_5)\ndf_5 <- label_eurostat(df_5, code = df_names, fix_duplicated = TRUE)\n\npaises_5 <- df_5 %>% \n  select (geo, time, values, unit, carriage, tra_oper) %>%\n  filter (geo %in% c(\"Spain\",\"France\",\"Italy\",\"Sweden\",\"Germany (until 1990 former territory of the FRG)\")) %>% \n  filter (time >=1995) %>% \n  filter (unit == \"Million tonne-kilometre (TKM)\") %>% \n  filter (carriage == \"Total\") %>% \n  filter(tra_oper == \"Total - total transport\") %>%\n  mutate(geo = \n           case_when(geo == \"Spain\" ~ \"Spain\",\n                     geo == \"France\" ~ \"France\", \n                     geo == \"Italy\" ~ \"Italy\",\n                     geo == \"Sweden\" ~ \"Sweden\",\n                     geo == \"Germany (until 1990 former territory of the FRG)\" ~ \"Germany\"\n                     \n           ))\n\npaises_5$time <- as.numeric(paises_5$time)\n\np3 <-ggplot(paises_5) +\n  aes(x = time, y = values, colour = geo) +\n  geom_point(shape = \"circle\", size = 3) +\n  scale_color_hue(direction = 1) +\n  theme_classic() +\n  labs(\n    x = \"Años\",\n    y = \"Millones de toneladas por km de carretera\",\n    title = \"Evolución del uso del camión para el transporte de mercancías\"\n  ) +\n  ggthemes::theme_base()\n\np3\n\n\n\n\n\n\n\nSe observa que la mercancía transportada en España mediante el ferrocarril es más más baja que en Europa llegando a ser superado por Suecia. Esto viene determinado por la preferencia en españa por el transporte en camión, que es un medio de transporte más flexible y que permite el transporte “puerta a puerta”. Además este bajo uso del ferrocarril, también viene consicionado por el ancho de vía español (igual que el inglés) que difiere del del resto de Europa, lo que impide un tránsito fluido una vez se quiere cruzar la frontera.\n\nCódigop4 <- p1 + p3\n\np4"
  },
  {
    "objectID": "my_trabajo_BigData.html#análisis-de-los-tipos-de-vía-por-su-velocidad-máxima",
    "href": "my_trabajo_BigData.html#análisis-de-los-tipos-de-vía-por-su-velocidad-máxima",
    "title": "El problema ferroviario de España",
    "section": "Análisis de los tipos de vía por su velocidad máxima",
    "text": "Análisis de los tipos de vía por su velocidad máxima\nEn este apartado analizaremos las estadísticas que confieren a los diferentes tipos de vías clasificados por su velocidad, con la finalidad de ver qué países son aquellos que cuentan con mayor kilometraje de vía de cada tipo.\nEn primer lugar, obtenemos los datos, sacados de Eurostat, de los kilómetros de vías por país, tanto los totales como divididos por categoría. En este caso las categorías son 3, vías de baja velocidad, vías de media velocidad y vías de alta velocidad. Una vez obtenidos los datos, los hemos arreglado y dispuesto para obtener los gráficos que necesitamos para hacer más fácil nuestro análisis.\n\n\nCódigo#En primer lugar obtendremos la información para este apartado. Dado que ya sabemos que datos queremos, km de vía para la velocidad máxima de la misma, los indicamos. \nmy_table<- \"rail_if_line_sp\"\n# label_eurostat_tables(my_table) . Aquí podemos ver la descripción de los datos.\n\n# Obtenemos los datos y sustituímos los códigos de los países por sus nombres\ntipo_via <- get_eurostat(my_table, time_format = 'raw') \ndf_names <- names(tipo_via)\ntipo_via <- label_eurostat(tipo_via, code = df_names, fix_duplicated = TRUE)\n\n\n# Modificamos y arreglamos un poco los datos\ntipo_via_f <- tipo_via %>%\n  select(time, values, tra_infr, geo) %>%\n  mutate(time = as.numeric(time)) %>%\n  pivot_wider(names_from = tra_infr, values_from = values) %>% \n  arrange(geo)\n\ntipo_via_f <- tipo_via_f %>%\n  rename(Baja_velocidad = \"Conventional railway lines\", Media_velocidad = \"Upgraded high speed railway lines\",     Alta_velocidad = \"Dedicated high speed railway lines\", Paises = \"geo\") %>%\n  dplyr::relocate(Alta_velocidad, .after = Media_velocidad)\n\n#Guardamos los datos por si acaso sufren alguna modificación. Además, ahora no necesitamos hacer todo el proceso anterior.\ndir.create(\"datos\")\nruta_via <- here::here(\"datos\", \"tipo_via_f.rds\")\nrio::export(tipo_via_f, ruta_via)\n\n# Si necesitamos cargar los datos al global environment:\n# ruta_via <- here::here(\"datos\", \"tipo_via_f.rds\")\n# tipo_via_f <-rio::import(ruta_via)\n\n\n\nEl primer gráfico que observamos es, de hecho, una agrupación de 4 gráficos diferentes, donde se puede observar la evolución histórica de los km de vía para cada país, tanto los totales como por categorías.\n\nCódigo# Empezamos con los gráficos. Primero veremos gráficos que ilustran los kilómetros totales de vía, tanto para el total como para las diferentes velocidades máximas por las que circulan los diferentes trenes. \n\nGrafico_Total_km <- tipo_via_f %>%\n  filter(!is.na(Total)) %>%\n  ggplot() +\n  aes(x = time, y = Total, colour = Paises) +\n  geom_step() +\n  scale_color_hue(direction = 1) +\n  labs(\n    x = \"Años\",\n    y = \"Km de vía (en miles)\",\n    title = \"Vías totales\",\n    subtitle = \"Kilómetros de via\"\n  ) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  ylim(0, 32000)\n\n\n\nGrafico_bajav_km <- tipo_via_f %>%\n  filter(!is.na(Baja_velocidad)) %>%\n  ggplot() +\n  aes(x = time, y = Baja_velocidad, colour = Paises) +\n  geom_step() +\n  scale_color_hue(direction = 1) +\n  labs(\n    x = \"Años\",\n    y = \"Km de vía (en miles)\",\n    title = \"Baja velocidad\",\n    subtitle = \"Kilómetros de via\"\n  ) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  ylim(0, 22000)\n\n\n\nGrafico_mediav_km <- tipo_via_f %>%\n  filter(!is.na(Media_velocidad)) %>%\n  filter(!(Paises %in% c(\"Italy\", \"Kosovo (under United Nations Security Council Resolution 1244/99)\", \n                         \"Latvia\", \"Lithuania\", \"Norway\", \"Serbia\", \"Türkiye\", \"United Kingdom\", \"Montenegro\", \"Greece\", \"Estonia\"))) %>%\n  ggplot() +\n  aes(x = time, y = Media_velocidad, colour = Paises) +\n  geom_step() +\n  scale_color_hue(direction = 1) +\n  labs(\n    x = \"Años\",\n    y = \"Km de vía (en miles)\",\n    title = \"Media velocidad\",\n    subtitle = \"Kilómetros de via\"\n  ) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  ylim(0, 15000)\n\n\n\nGrafico_altav_km <- tipo_via_f %>%\n  filter(!is.na(Alta_velocidad)) %>%\n  filter(!(Paises %in% c(\"Czechia\", \"Estonia\", \"Finland\", \"Greece\", \"Kosovo (under United Nations Security Council Resolution 1244/99)\", \"Latvia\", \"Lithuania\", \"Montenegro\", \"Norway\", \"Portugal\", \"Serbia\", \"Sweden\"))) %>%\n  ggplot() +\n  aes(x = time, y = Alta_velocidad, colour = Paises) +\n  geom_step() +\n  scale_color_hue(direction = 1) +\n  labs(\n    x = \"Años\",\n    y = \"Km de vía (en miles)\",\n    title = \"Alta velocidad\",\n    subtitle = \"Kilómetros de via\"\n  ) +\n  ggthemes::theme_base() +\n  theme(legend.position = \"none\") +\n  ylim(0, 3000)\n\n\n# Aquí vemos una combinación de los gráficos. oci <- (Grafico_Total_km | Grafico_bajav_km) / (Grafico_mediav_km | Grafico_altav_km)\n\nGrafico_veloci <- (Grafico_Total_km | Grafico_bajav_km) / (Grafico_mediav_km | Grafico_altav_km)\n\nGrafico_veloci_conjunto<- Grafico_veloci + plot_annotation(\n  title = 'Resumen de las diferentes velocidades',\n  subtitle = 'Estas 4 gráficas nos muestran los km por paises',\n  )& theme(text = element_text('mono'))\n\nGrafico_veloci_conjunto\n\n\n\n\n\n\n\nNo obstante, como se puede observar, no hemos dispuesto las leyendas para identificar cada país, dado que sería un ejercicio totalmente sinsentido, ya que hay países que, simplemente por su mayor superficie territorial cuentan con mayor kilometraje de vía. Y en nuestro caso lo que queremos contrastar es si realmente España tiene una proporción elevada de vías, tanto totales como por categorías (especialmente de alta velocidad), respecto a la superficie del país y comparado con otros países.\nPor tanto, lo que haremos a continuación será obtener los datos de superficie en km2 del Banco Mundial. Una vez obtenidos estos datos, filtraremos para quedarnos solo con los de los países europeos, que son de los que tenemos datos, y uniremos las tablas.\n\nCódigo#Todo y que podríamos detenernos a observar las evoluciones y km de vía, es un ejercicio absurdo, dado que la simple grandaria de un país puede explicar la existencia de más kilometraje. Por tanto, intentaremos analizar las cuatro variables usando como unidad de medida kilómetros de via por kilómetro cuadrado del país. \n\n# Obtenemos los datos de superfície del banco mundial\nlibrary(WDI)  #install.packages('WDI')\n\nkm_superf <- WDI(indicator = \"AG.SRF.TOTL.K2\", start = 2020, end = 2020, country = c(\"AT\",\"BE\", \"BG\", \"HR\", \"CY\", \"CZ\", \"DK\", \"EE\", \"FI\", \"FR\", \"DE\", \"GR\", \"HU\", \"IE\", \"IT\", \"LV\", \"LT\", \"LU\", \"MT\", \"NL\", \"PL\", \"PT\", \"RO\", \"SK\", \"SI\", \"ES\", \"SE\", \"GB\"))\n\nkm_superf <- km_superf %>%\n  select(country, AG.SRF.TOTL.K2) %>%\n  rename(Km_2 = AG.SRF.TOTL.K2, Paises = \"country\")\n\n# Una vez arreglados los datos, fusionamos las dos tablas\nkm_vias_superficie <- inner_join(tipo_via_f, km_superf, by = \"Paises\")\n\n#Guardamos los datos\nruta_via <- here::here(\"datos\", \"km_vias_superficie.rds\")\nrio::export(\"km_vias_superficie\", ruta_via)\n\n# Si necesitamos cargar los datos al global environment:\n# ruta_viasup <- here::here(\"datos\", \"km_vias_superficie.rds\")\n# km_vias_superficie <- rio::import(ruta_viasup)\n\n\nPor último, dividiremos los datos en 4 tablas, las cuales contienen cada una los datos de superficie, y luego una de las categorías o los datos totales. Ahora creamos una nueva columna que resulta del cálculo del número de km de vía entre los km2 de superficie. A partir de estos datos hacemos gráficos de columnas, para ver los datos de una forma más clara y analizarlos a continuación.\nEl primer gráfico nos muestra el porcentaje de kilómetros totales de vías sobre superficie del territorio. También observamos un mapa que resume estas estadísticas de una forma más ilustrativa.\n\nCódigo# A continuación lo que haremos será calcular para cada dato los km de via sobre los km2\n\ntotal_km <- km_vias_superficie %>%\n  select(time, Paises, Total, Km_2) %>%\n  filter(time == \"2020\") %>%\n  mutate(Via_por_km2 = (Total/Km_2)*100) %>%\n  arrange(Via_por_km2)\n\n# En estos casos además también lo haremos sobre \nbaja_km <- km_vias_superficie %>%\n  select(time, Paises, Baja_velocidad, Km_2, Total) %>%\n  filter(!is.na(Baja_velocidad)) %>%\n  filter(time == \"2020\") %>%\n  mutate(Via_por_km2 = (Baja_velocidad/Km_2)*100) %>%\n  arrange(Via_por_km2) %>%\n  mutate(Baja_por_total = (Baja_velocidad/Total)*100)\n\n\nmedia_km <- km_vias_superficie %>%\n  select(time, Paises, Media_velocidad, Km_2, Total) %>%\n  filter(!is.na(Media_velocidad)) %>%\n  filter(time == \"2020\") %>%\n  mutate(Via_por_km2 = (Media_velocidad/Km_2)*100) %>%\n  filter(Via_por_km2 > 0) %>%\n  arrange(Via_por_km2) %>%\n  mutate(Media_por_total = (Media_velocidad/Total)*100)\n\n\nalta_km <- km_vias_superficie %>%\n  select(time, Paises, Alta_velocidad, Km_2, Total) %>%\n  filter(!is.na(Alta_velocidad)) %>%\n  filter(time == \"2020\") %>%\n  mutate(Via_por_km2 = (Alta_velocidad/Km_2)*100) %>% \n  filter(Via_por_km2 > 0) %>%\n  arrange(Via_por_km2)  %>%\n  mutate(Alta_por_total = (Alta_velocidad/Total)*100)\n\n#A continuación haremos gráficos para ilustrar los resultados anteriores\n\ngraf_total_porc <- ggplot(total_km) +\n  aes(x = Paises, y = Via_por_km2, colour = Paises) +\n  geom_col(fill = \"#000000\") +\n  scale_color_manual(\n    values = c(Austria = \"#F8766D\",\n               Bulgaria = \"#E98043\",\n               Croatia = \"#DB8B19\",\n               Czechia = \"#C99500\",\n               Denmark = \"#B19E00\",\n               Estonia = \"#99A700\",\n               Finland = \"#69AE0F\",\n               France = \"#31B425\",\n               Greece = \"#00BA3C\",\n               Hungary = \"#00BC64\",\n               Italy = \"#00BF8B\",\n               Latvia = \"#00BFAB\",\n               Lithuania = \"#00BCC5\",\n               Luxembourg = \"#00B9DF\",\n               Netherlands = \"#20AFEC\",\n               Poland = \"#45A4F6\",\n               Portugal = \"#6C98FE\",\n               Romania = \"#9B88FD\",\n               Slovenia = \"#C978FB\",\n               Spain = \"#E36DED\",\n               Sweden = \"#F167D8\",\n               `United Kingdom` = \"#FF61C3\")\n  ) +\n  labs(\n    y = \"Datos en porcentaje KmVias/Km2\",\n    title = \"Porcentaje de kilómetros totales de vias sobre superfície del territorio\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"none\")\n\nggplotly (graf_total_porc)\n\n\n\n\nCódigo\n\n#También haremos un mapa europeo ilustrativo del total de vias.\n\ndata(World)\nworld <- World ; rm(World)\nworld <- world %>%\n  rename(Paises = \"name\")\ndf_mapa <- full_join(world, total_km, by = \"Paises\")\n\n\nmypalette <- colorNumeric( palette=\"Greys\", domain=df_mapa$Via_por_km2,na.color=\"transparent\")\n\nmytext <- paste(\n  \"País: \", df_mapa$Paises,\"<br/>\", \n  \"Superfície en km2: \",  df_mapa$Km_2, \"<br/>\", \n  \"Kilómetros de vía por km2 (en %): \", df_mapa$Via_por_km2, \n  sep=\"\") %>%\n  lapply(htmltools::HTML)\nmapa_kmvias_km2 <- leaflet(df_mapa) %>% \n  addTiles()  %>% \n  setView( lat=10, lng=0 , zoom=2) %>%\n  addPolygons( \n    fillColor = ~mypalette(Via_por_km2), \n    stroke=TRUE, \n    fillOpacity = 0.9, \n    color=\"white\", \n    weight=0.3,\n    label = mytext,\n    labelOptions = labelOptions( \n      style = list(\"font-weight\" = \"normal\", padding = \"3px 8px\"), \n      textsize = \"13px\", \n      direction = \"auto\"\n    )\n  ) %>%\n  addLegend( pal=mypalette, values=~Via_por_km2, opacity=0.9, title = \"% de vias por Km2\", position = \"bottomleft\" )\n\n\nmapa_kmvias_km2\n\n\n\n\n\n\nComo podemos observar, hay ciertos países que destacan por tener gran cantidad de vías respecto al tamaño del país, como son la República Checa, Luxemburgo, Holanda o Hungría, países que tienen territorios no muy extensos y en algunos casos son países de rentas elevadas.\nEn cambio, si nos fijamos en países que tengan superficie territorial parecida a la de nuestro país, como son Reino Unido o Francia vemos que tienen una proporción mucho más elevada que la nuestra. No obstante, si ahora nos fijamos en países con rentas e incluso se podría decir que culturas parecidas, mediterráneas, como Portugal, Grecia o Italia, no podemos extraer conclusiones claras, ya que en algunos casos es superior, en otros parecida y en otros tantos inferior."
  },
  {
    "objectID": "my_trabajo_BigData.html#vías-de-baja-velocidad",
    "href": "my_trabajo_BigData.html#vías-de-baja-velocidad",
    "title": "El problema ferroviario de España",
    "section": "Vías de baja velocidad",
    "text": "Vías de baja velocidad\nAhora veremos gráficos por categorías de velocidad máxima de la vía, comparando los km de las vías tanto entre la superficie como por los km totales de vía. Empezamos por llas vías de más baja velocidad.\n\n\nCódigo#Ahora por velocidad máxima de la vía \n\ngraf_baja_porc <- ggplot(baja_km) +\n  aes(x = Paises, colour = Paises, weight = Via_por_km2) +\n  geom_bar(fill = \"#000000\") +\n  scale_color_hue(direction = 1) +\n  labs(\n    y = \"Datos en porcentaje Km Vias/Km2\",\n    title = \"Kilómetros de vias de baja velocidad sobre superfície del territorio\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"none\")\n\ngraf_baja_total <- ggplot(baja_km) +\n  aes(x = Paises, colour = Paises, weight = Baja_por_total) +\n  geom_bar(fill = \"#000000\") +\n  scale_color_hue(direction = 1) +\n  labs(\n    y = \"Datos en porcentaje Km Vias baja velocidad/Total km via\",\n    title = \"Kilómetros de vias de baja velocidad sobre km totales de vía\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"none\")\n\ngraf_baja_doble <- graf_baja_porc + graf_baja_total \n\ngraf_baja_doble <- graf_baja_doble + plot_annotation(\n  title = 'Comparación entre vías de velocidad baja sobre km2 y sobre km de vía totales',\n  subtitle = 'Proporciones en %',\n)& theme(text = element_text('mono'))\n\nggplotly(graf_baja_doble)\n\n\n\n\n\nEn el caso de este tipo de vías podemos destacar dos cosas. La primera de ellas las observamos en el primer gráfico, que como podemos ver países como Reino Unido, Italia o Eslovenia tienen una alta cantidad de vías si la comparamos al resto de países. De mientras, España tiene la misma cantidad de vías de cercanías que otros como Francia o Grecia.\nNo obstante, lo que es peculiar es que la gran mayoría de los países de los que observamos datos únicamente cuentan con vías de este tipo. Las únicas naciones que poseen vías de superior velocidad son España, Finlandia, Francia, Italia y Reino Unido (aunque este muy poco de otros tipos). Por tanto, se este hecho explica las elevadas proporciones que observamos en el otro gráfico respecto a países como Reino Unido o Eslovenia.\nAsí, estos países ven limitada su infraestructura ferroviaria con vías de menor velocidad y que generalmente tienen líneas de menor recorrido, lo cual dificulta la movilidad tanto de pasajeros como de mercancías."
  },
  {
    "objectID": "my_trabajo_BigData.html#vías-de-media-velocidad",
    "href": "my_trabajo_BigData.html#vías-de-media-velocidad",
    "title": "El problema ferroviario de España",
    "section": "Vías de media velocidad",
    "text": "Vías de media velocidad\nA continuación, analizamos los datos de vías de velocidad media.\n\nCódigograf_media_porc <- ggplot(media_km) +\n  aes(x = Paises, y = Via_por_km2, colour = Paises) +\n  geom_col(fill = \"#000000\") +\n  scale_color_hue(direction = 1) +\n  labs(\n    y = \"Datos en porcentaje KmVias/Km2\",\n    title = \"Porcentaje de kilómetros de vias de media velocidad sobre superfície del territorio\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"none\")\n\ngraf_media_total <- ggplot(media_km) +\n  aes(x = Paises, y = Media_por_total, colour = Paises) +\n  geom_col(fill = \"#000000\") +\n  scale_color_hue(direction = 1) +\n  labs(\n    y = \"Datos en porcentaje Km Vias de media velocidad /Km de vías totales\",\n    title = \"Porcentaje de kilómetros de vias de media velocidad sobre km totales de vías\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"none\")\n\n\ngraf_media_doble <- graf_media_porc + graf_media_total \n\ngraf_media_doble <- graf_media_doble + plot_annotation(\n  title = 'Comparación entre vías de velocidad media sobre km2 y sobre km de vía totales',\n  subtitle = 'Proporciones en %',\n)& theme(text = element_text('mono'))\n\nggplotly(graf_media_doble)\n\n\n\n\n\n\nComo vemos, contamos con pocos datos porque no todos los países tienen vías superiores a las de velocidad baja. En este caso, podemos ver como este tipo de vías escasean en España, mientras que en Finlandia la proporción sobre el total de vías roza el 20%. Francia supera el 30%, así como tener una proporción elevada respecto a la superficie del país, y con mucha diferencia respecto a los otros dos países.\nEste es uno de los problemas que se plantean en el libro. Y es que son las vías de media velocidad la que permiten una combinación de transporte de pasajeros junto con el de mercancías. Así, todo y que Francia tiene un problema de infraestructura parecido al de España, con una estructura “radial” que tiene su foco en la capital, de donde salen o acaban la gran parte de las vías, sigue contando con un sistema de transporte mixto. A continuación, observaremos las vías de alta velocidad para acabar de comprender este tema."
  },
  {
    "objectID": "my_trabajo_BigData.html#vías-de-alta-velocidad",
    "href": "my_trabajo_BigData.html#vías-de-alta-velocidad",
    "title": "El problema ferroviario de España",
    "section": "Vías de alta velocidad",
    "text": "Vías de alta velocidad\nPor último, observamos un gráfico con las vías de alta velocidad.\n\n\nCódigograf_alta_porc <- ggplot(alta_km) +\n  aes(x = Paises, colour = Paises, weight = Via_por_km2) +\n  geom_bar(fill = \"#000000\") +\n  scale_color_hue(direction = 1) +\n  labs(\n    y = \"Datos en porcentaje KmVias/Km2\",\n    title = \"Porcentaje de kilómetros de vias de alta velocidad sobre superfície del territorio\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"none\")\n\ngraf_alta_total <- ggplot(alta_km) +\n  aes(x = Paises, colour = Paises, weight = Alta_por_total) +\n  geom_bar(fill = \"#000000\") +\n  scale_color_hue(direction = 1) +\n  labs(\n    y = \"Datos en porcentaje Km Vias de alta velocidad/Km de vías totales\",\n    title = \"Porcentaje de kilómetros de vias de alta velocidad sobre km de vías totales\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"none\")\n\n\ngraf_alta_doble <- graf_alta_porc + graf_alta_total \n\ngraf_alta_doble <- graf_alta_doble + plot_annotation(\n  title = 'Comparación entre vías de velocidad alta sobre km2 y sobre km de vía totales',\n  subtitle = 'Proporciones en %',\n)& theme(text = element_text('mono'))\n\nggplotly(graf_alta_doble)\n\n\n\n\n\nLa historia en este caso es totalmente diferente, dado que ahora las estadísticas dan un giro respecto al caso de Francia y España. En estes caso, es España la que cuenta con mayor número de vías de alta velocidad respecto a superficie y también sobre el total, siendo este último un dato muy destacado respecto a los otros países."
  },
  {
    "objectID": "my_trabajo_BigData.html#información-sobre-la-sesión",
    "href": "my_trabajo_BigData.html#información-sobre-la-sesión",
    "title": "El problema ferroviario de España",
    "section": "Información sobre la sesión",
    "text": "Información sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.2.1 (2022-06-23 ucrt)\n os       Windows 10 x64 (build 19044)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Paris\n date     2022-12-22\n pandoc   2.18 @ C:/Program Files/RStudio/bin/quarto/bin/tools/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package           * version    date (UTC) lib source\n abind               1.4-5      2016-07-21 [1] CRAN (R 4.2.0)\n assertthat          0.2.1      2019-03-21 [1] CRAN (R 4.2.1)\n backports           1.4.1      2021-12-13 [1] CRAN (R 4.2.0)\n base64enc           0.1-3      2015-07-28 [1] CRAN (R 4.2.0)\n bit                 4.0.4      2020-08-04 [1] CRAN (R 4.2.1)\n bit64               4.0.5      2020-08-30 [1] CRAN (R 4.2.1)\n broom               1.0.1      2022-08-29 [1] CRAN (R 4.2.1)\n cellranger          1.1.0      2016-07-27 [1] CRAN (R 4.2.1)\n class               7.3-20     2022-01-16 [2] CRAN (R 4.2.1)\n classInt            0.4-7      2022-06-10 [1] CRAN (R 4.2.1)\n cli                 3.4.0      2022-09-08 [1] CRAN (R 4.2.1)\n clipr               0.8.0      2022-02-22 [1] CRAN (R 4.2.1)\n codetools           0.2-18     2020-11-04 [2] CRAN (R 4.2.1)\n colorspace          2.0-3      2022-02-21 [1] CRAN (R 4.2.1)\n countrycode       * 1.4.0      2022-05-04 [1] CRAN (R 4.2.1)\n crayon              1.5.1      2022-03-26 [1] CRAN (R 4.2.1)\n crosstalk           1.2.0      2021-11-04 [1] CRAN (R 4.2.1)\n curl                4.3.2      2021-06-23 [1] CRAN (R 4.2.1)\n data.table          1.14.2     2021-09-27 [1] CRAN (R 4.2.1)\n DBI                 1.1.3      2022-06-18 [1] CRAN (R 4.2.1)\n dbplyr              2.2.1      2022-06-27 [1] CRAN (R 4.2.1)\n desc                1.4.2      2022-09-08 [1] CRAN (R 4.2.1)\n details             0.3.0      2022-03-27 [1] CRAN (R 4.2.2)\n dichromat           2.0-0.1    2022-05-02 [1] CRAN (R 4.2.0)\n digest              0.6.29     2021-12-01 [1] CRAN (R 4.2.1)\n dplyr             * 1.0.10     2022-09-01 [1] CRAN (R 4.2.1)\n DT                * 0.25       2022-09-12 [1] CRAN (R 4.2.1)\n e1071               1.7-11     2022-06-07 [1] CRAN (R 4.2.1)\n ellipsis            0.3.2      2021-04-29 [1] CRAN (R 4.2.1)\n eurostat          * 3.7.10     2022-02-09 [1] CRAN (R 4.2.1)\n evaluate            0.16       2022-08-09 [1] CRAN (R 4.2.1)\n fansi               1.0.3      2022-03-24 [1] CRAN (R 4.2.1)\n farver              2.1.1      2022-07-06 [1] CRAN (R 4.2.1)\n fastmap             1.1.0      2021-01-25 [1] CRAN (R 4.2.1)\n forcats           * 0.5.2      2022-08-19 [1] CRAN (R 4.2.1)\n foreign             0.8-82     2022-01-16 [2] CRAN (R 4.2.1)\n formatR             1.12       2022-03-31 [1] CRAN (R 4.2.1)\n fs                  1.5.2      2021-12-08 [1] CRAN (R 4.2.1)\n gargle              1.2.1      2022-09-08 [1] CRAN (R 4.2.1)\n generics            0.1.3      2022-07-05 [1] CRAN (R 4.2.1)\n gganimate         * 1.0.8      2022-09-08 [1] CRAN (R 4.2.2)\n ggplot2           * 3.3.6      2022-05-03 [1] CRAN (R 4.2.1)\n ggrepel           * 0.9.1      2021-01-15 [1] CRAN (R 4.2.1)\n ggspatial         * 1.1.7      2022-11-24 [1] CRAN (R 4.2.2)\n ggThemeAssist     * 0.1.5      2016-08-13 [1] CRAN (R 4.2.1)\n ggthemes          * 4.2.4      2021-01-20 [1] CRAN (R 4.2.1)\n gifski            * 1.6.6-1    2022-04-05 [1] CRAN (R 4.2.1)\n glue                1.6.2      2022-02-24 [1] CRAN (R 4.2.1)\n googledrive         2.0.0      2021-07-08 [1] CRAN (R 4.2.1)\n googlesheets4       1.0.1      2022-08-13 [1] CRAN (R 4.2.1)\n gt                * 0.7.0      2022-08-25 [1] CRAN (R 4.2.1)\n gtable              0.3.1      2022-09-01 [1] CRAN (R 4.2.1)\n haven               2.5.1      2022-08-22 [1] CRAN (R 4.2.1)\n here                1.0.1      2020-12-13 [1] CRAN (R 4.2.1)\n hms                 1.1.2      2022-08-19 [1] CRAN (R 4.2.1)\n htmltools           0.5.3      2022-07-18 [1] CRAN (R 4.2.1)\n htmlwidgets         1.5.4      2021-09-08 [1] CRAN (R 4.2.1)\n httpuv              1.6.6      2022-09-08 [1] CRAN (R 4.2.1)\n httr                1.4.4      2022-08-17 [1] CRAN (R 4.2.1)\n jsonlite            1.8.0      2022-02-22 [1] CRAN (R 4.2.1)\n kableExtra        * 1.3.4      2021-02-20 [1] CRAN (R 4.2.1)\n KernSmooth          2.23-20    2021-05-03 [2] CRAN (R 4.2.1)\n knitr             * 1.40       2022-08-24 [1] CRAN (R 4.2.1)\n labeling            0.4.2      2020-10-20 [1] CRAN (R 4.2.0)\n later               1.3.0      2021-08-18 [1] CRAN (R 4.2.1)\n lattice             0.20-45    2021-09-22 [2] CRAN (R 4.2.1)\n lazyeval            0.2.2      2019-03-15 [1] CRAN (R 4.2.1)\n leafem            * 0.2.0      2022-04-16 [1] CRAN (R 4.2.1)\n leaflet           * 2.1.1      2022-03-23 [1] CRAN (R 4.2.1)\n leaflet.providers   1.9.0      2019-11-09 [1] CRAN (R 4.2.1)\n leafsync            0.1.0      2019-03-05 [1] CRAN (R 4.2.1)\n lifecycle           1.0.2      2022-09-09 [1] CRAN (R 4.2.1)\n lubridate         * 1.8.0      2021-10-07 [1] CRAN (R 4.2.1)\n lwgeom              0.2-8      2021-10-06 [1] CRAN (R 4.2.1)\n magrittr            2.0.3      2022-03-30 [1] CRAN (R 4.2.1)\n mime                0.12       2021-09-28 [1] CRAN (R 4.2.0)\n miniUI              0.1.1.1    2018-05-18 [1] CRAN (R 4.2.1)\n modelr              0.1.9      2022-08-19 [1] CRAN (R 4.2.1)\n munsell             0.5.0      2018-06-12 [1] CRAN (R 4.2.1)\n openxlsx            4.2.5      2021-12-14 [1] CRAN (R 4.2.1)\n patchwork         * 1.1.2      2022-08-19 [1] CRAN (R 4.2.1)\n pillar              1.8.1      2022-08-19 [1] CRAN (R 4.2.1)\n pjpv2020.01       * 0.0.0.9000 2022-09-14 [1] Github (perezp44/pjpv2020.01@0ea1f82)\n pkgconfig           2.0.3      2019-09-22 [1] CRAN (R 4.2.1)\n plotly            * 4.10.0     2021-10-09 [1] CRAN (R 4.2.1)\n plyr                1.8.7      2022-03-24 [1] CRAN (R 4.2.1)\n png                 0.1-7      2013-12-03 [1] CRAN (R 4.2.0)\n prettyunits         1.1.1      2020-01-24 [1] CRAN (R 4.2.1)\n progress            1.2.2      2019-05-16 [1] CRAN (R 4.2.1)\n promises            1.2.0.1    2021-02-11 [1] CRAN (R 4.2.1)\n proxy               0.4-27     2022-06-09 [1] CRAN (R 4.2.1)\n purrr             * 0.3.4      2020-04-17 [1] CRAN (R 4.2.1)\n R6                  2.5.1      2021-08-19 [1] CRAN (R 4.2.1)\n rappdirs            0.3.3      2021-01-31 [1] CRAN (R 4.2.1)\n raster              3.5-29     2022-08-14 [1] CRAN (R 4.2.1)\n RColorBrewer        1.1-3      2022-04-03 [1] CRAN (R 4.2.0)\n Rcpp                1.0.9      2022-07-08 [1] CRAN (R 4.2.1)\n readr             * 2.1.2      2022-01-30 [1] CRAN (R 4.2.1)\n readxl              1.4.1      2022-08-17 [1] CRAN (R 4.2.1)\n RefManageR          1.3.0      2020-11-13 [1] CRAN (R 4.2.1)\n regions             0.1.8      2021-06-21 [1] CRAN (R 4.2.1)\n reprex              2.0.2      2022-08-17 [1] CRAN (R 4.2.1)\n rio                 0.5.29     2021-11-22 [1] CRAN (R 4.2.1)\n rlang               1.0.6      2022-09-24 [1] CRAN (R 4.2.2)\n rmarkdown           2.16       2022-08-24 [1] CRAN (R 4.2.1)\n rnaturalearth     * 0.1.0      2017-03-21 [1] CRAN (R 4.2.2)\n rnaturalearthdata * 0.1.0      2017-02-21 [1] CRAN (R 4.2.2)\n rprojroot           2.0.3      2022-04-02 [1] CRAN (R 4.2.1)\n rstudioapi          0.14       2022-08-22 [1] CRAN (R 4.2.1)\n rvest               1.0.3      2022-08-19 [1] CRAN (R 4.2.1)\n scales              1.2.1      2022-08-20 [1] CRAN (R 4.2.1)\n sessioninfo         1.2.2      2021-12-06 [1] CRAN (R 4.2.1)\n sf                * 1.0-9      2022-11-08 [1] CRAN (R 4.2.2)\n shiny               1.7.2      2022-07-19 [1] CRAN (R 4.2.1)\n sp                  1.5-0      2022-06-05 [1] CRAN (R 4.2.1)\n stars               0.5-6      2022-07-21 [1] CRAN (R 4.2.1)\n stringi             1.7.8      2022-07-11 [1] CRAN (R 4.2.1)\n stringr           * 1.4.1      2022-08-20 [1] CRAN (R 4.2.1)\n svglite             2.1.0      2022-02-03 [1] CRAN (R 4.2.1)\n systemfonts         1.0.4      2022-02-11 [1] CRAN (R 4.2.1)\n terra               1.6-17     2022-09-10 [1] CRAN (R 4.2.1)\n tibble            * 3.1.8      2022-07-22 [1] CRAN (R 4.2.1)\n tidyr             * 1.2.1      2022-09-08 [1] CRAN (R 4.2.1)\n tidyselect          1.1.2      2022-02-21 [1] CRAN (R 4.2.1)\n tidyverse         * 1.3.2      2022-07-18 [1] CRAN (R 4.2.1)\n tmap              * 3.3-3      2022-03-02 [1] CRAN (R 4.2.1)\n tmaptools           3.1-1      2021-01-19 [1] CRAN (R 4.2.1)\n tweenr              2.0.2      2022-09-06 [1] CRAN (R 4.2.2)\n tzdb                0.3.0      2022-03-28 [1] CRAN (R 4.2.1)\n units               0.8-0      2022-02-05 [1] CRAN (R 4.2.1)\n usethis             2.1.6      2022-05-25 [1] CRAN (R 4.2.1)\n utf8                1.2.2      2021-07-24 [1] CRAN (R 4.2.1)\n vctrs               0.4.1      2022-04-13 [1] CRAN (R 4.2.1)\n vembedr           * 0.1.5      2021-12-11 [1] CRAN (R 4.2.2)\n viridisLite         0.4.1      2022-08-22 [1] CRAN (R 4.2.1)\n vroom               1.5.7      2021-11-30 [1] CRAN (R 4.2.1)\n WDI               * 2.7.8      2022-09-25 [1] CRAN (R 4.2.2)\n webshot             0.5.3      2022-04-14 [1] CRAN (R 4.2.1)\n withr               2.5.0      2022-03-03 [1] CRAN (R 4.2.1)\n xfun                0.33       2022-09-12 [1] CRAN (R 4.2.1)\n XML                 3.99-0.10  2022-06-09 [1] CRAN (R 4.2.1)\n xml2                1.3.3      2021-11-30 [1] CRAN (R 4.2.1)\n xtable              1.8-4      2019-04-21 [1] CRAN (R 4.2.1)\n yaml                2.3.5      2022-02-21 [1] CRAN (R 4.2.1)\n zip                 2.2.1      2022-09-08 [1] CRAN (R 4.2.1)\n\n [1] C:/Users/ruben/AppData/Local/R/win-library/4.2\n [2] C:/Program Files/R/R-4.2.1/library\n\n──────────────────────────────────────────────────────────────────────────────"
  }
]